<!DOCTYPE html>
<html>
<head>
	<title>MillGame</title>
	<link rel="stylesheet" type="text/css" href="css/estilos.css">
		<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
</head>
<body id="battle">
	<main id="main">
	<div class="boss">
		<img src="Imagen2.png">
	</div>
	
<div class="control">
	<div class="preguntas" id="preguntas">
		<div id="tituloPregunta" style="text-align:center; margin-bottom: 5px; "></div>
		<div id="respuestas" style="display: flex;flex-wrap: wrap; ">
			<ul id="answer">
				
			</ul>
		</div>
	</div>
	<div class="vida" id="vida">
		<span id="vidaMaxima"></span> /
		<span id="contador"></span>
	</div>
	<div class="habilidad" id="habilidad">
		<ul>
			<li><button id="atacar">Ataque</button></li>
			<li><button>Magia</button> </li>
			<li><button>Elemento</button> </li>
		</ul>
	</div>
</div>
</main>
<script src="https://cdnjs.cloudflare.com/ajax/libs/howler/2.2.1/howler.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script type="text/javascript">
	
		//variables DOM
		const controlVida = document.getElementById('vida');
		const controlHabilidad = document.getElementById('habilidad');
		const controlPreguntas = document.getElementById('tituloPregunta');
		const controlRespuestas = document.getElementById('respuestas');
		const contenedorPreguntas = document.getElementById('preguntas');
		const vidaMaxima = document.getElementById('vidaMaxima');
		const ulRespuestas = document.getElementById('answer');
		
		//niveles
	const preguntas = {nivel1:{
		pregunta1:'QUIEN ES EL MAS SEXY',
		respuestas:{
			respuesta1:'Anderson Cespedes',
			respuesta2:'Jhoan Rivero',
			respuesta3:'Christian Rivero',
			respuesta4:'Emilio Cespedes',
			respuestaVerdadera: 'Anderson Cespedes'
		},
		
	}
}
	//preguntas
	class cuestionario{
		constructor(preguntas, respuestas){
			this.preguntas = preguntas;
			this.respuestas = respuestas;
		}
		activarPreguntas(){
			return this.preguntas;
		}
		activarRespuestas(){
			return this.respuestas;
		}
	}
	//personaje
	class personaje{
		constructor(){
			this.estadisticas = {
				habilidades:{
					'normal':4,
				},
				fuerza:1
			}

		}	
		fuerzaDeAtaque(tipodeataque){
			if (tipodeataque == 'normal') {
				return this.estadisticas.habilidades.normal * this.estadisticas.fuerza;
			}
			}
	}

	//monstruo
	class monstruo{
		constructor(){
			
			this.poderes = ['destruccion', 'quimico', 'mierda'];
			this.estadisticas = {
				vit:10,
				minVit:0,
				fuerza:5,
				randomPower:this.poderes[0]
			}
		}
		 ataque() {	
			return this.estadisticas.vit;
		}
	}	
	var cont = new monstruo();
		var cont1 = new personaje();

	window.onload = function(){
		//nivel
		var nivelAventura = 1;

		//controles
		controlVida.style.display = 'none';
		controlHabilidad.style.display = 'none';

		//instancias
		

		//combate

		if (nivelAventura == 1) {
			var keys = Object.keys(preguntas.nivel1.respuestas);
			let cont2 = new cuestionario(preguntas.nivel1.pregunta1, preguntas.nivel1.respuestas);
			controlPreguntas.innerHTML = cont2.activarPreguntas();
				let li = [];
				let opciones = [];
				let hi = [];
			for (var i = 0; i < keys.length-1; i++) {
				li[i]  = document.createElement("button");
				li[i].className = 'respuestas';
				
				if (i == 0) {
				
					opciones[i] = document.createTextNode(cont2.activarRespuestas().respuesta1);	
					li[i].setAttribute('value', cont2.activarRespuestas().respuesta1);
					li[i].setAttribute('id', 'respuestaDefinitiva'+i);
					li[i].setAttribute('onclick', 'delet(this);');


				}
				else if (i == 1) {
					
					opciones[i] = document.createTextNode(cont2.activarRespuestas().respuesta2);
					li[i].setAttribute('value', cont2.activarRespuestas().respuesta2);
					li[i].setAttribute('id', 'respuestaDefinitiva'+i);
					li[i].setAttribute('onclick', 'delet(this);');

				}
				else if (i == 2) {
					
					opciones[i] = document.createTextNode(cont2.activarRespuestas().respuesta3);
					li[i].setAttribute('value', cont2.activarRespuestas().respuesta3);
					li[i].setAttribute('id', 'respuestaDefinitiva'+i);
					li[i].setAttribute('onclick', 'delet(this);');

				}
				else if (i == 3) {
					
					opciones[i] = document.createTextNode(cont2.activarRespuestas().respuesta4);
					li[i].setAttribute('value', cont2.activarRespuestas().respuesta4);
					li[i].setAttribute('id', 'respuestaDefinitiva'+i);
					li[i].setAttribute('onclick', 'delet(this);');

				}
				li[i].appendChild(opciones[i]);
			
				 controlRespuestas.insertBefore(li[i], ulRespuestas);
			
			}
		}	
		

		var counter = cont.ataque();
		var iniciovit = document.getElementById('contador').innerHTML = counter;
		var iniciovit1 = vidaMaxima.innerHTML = cont.estadisticas.vit;
		var atacar = document.getElementById('atacar');

		atacar.addEventListener('click', function(){
			let ataqueNormal = 'normal';
			counter -= cont1.fuerzaDeAtaque(ataqueNormal); 

					
			if (counter <= cont.estadisticas.minVit) {document.getElementById('main').className = 'red';
				counter = cont.estadisticas.minVit;
			}	
			let vitalidadJefe = document.getElementById('contador').innerHTML = counter;
		});
	}

	
	function delet(e) {
				if (e.value == preguntas.nivel1.respuestas.respuestaVerdadera) {
						contenedorPreguntas.style.display = 'none';
						controlVida.style.display = 'flex';
						controlHabilidad.style.display = 'flex';
					
					}
					else{

					}
		}

</script>
</body>